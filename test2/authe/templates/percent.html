<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="icon" href="https://static.jianshukeji.com/hcode/images/favicon.ico">
	<script src="https://img.hcharts.cn/jquery/jquery-1.8.3.min.js"></script>
	<script src="/static/js/highcharts.js"></script>
	<script src="/static/js/exporting.js"></script>
	<script src="/static/js/highcharts-zh_CN.js"></script>
</head>
<body>
<!--
*************************************************************************
   Generated by HCODE at 2017-04-10 14:57:24
   From: https://code.hcharts.cn/demos/hhhhxW
*************************************************************************
 -->
	<div id="fxxk" style="min-width:400px;height:400px"></div>

	<script>
	var num={{ num|safe }};
	var option={{  option|safe  }};
	var aa_dict={{  aa_dict|safe  }};
	
	
	$(function () {
	num_list=num['num_dict'].split("||");
	num_list=num_list.sort();
	console.log(num_list);
	option_list=option['option_dict'].split("||");
	option_list=option_list.sort();
	console.log(option_list);
	console.log(aa_dict);
	optionarr=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o"];
	var len_oparr=optionarr.length;
	console.log(len_oparr);
	var object1=new Object();
	console.log(optionarr[0]);
	for (i=0;i<len_oparr;i++){	
		if (aa_dict[optionarr[i]]==undefined){
			break;
		}
		else{	
			console.log(aa_dict[optionarr[i]]);
			var arr=[];
			arr = aa_dict[optionarr[i]].split("||");
			var arr1=[];
			var arrle=arr.length;
			for (j=0;j<arrle;j++){
				arr1.push(parseInt(arr[j]));
			} 
			object1[optionarr[i]]=arr1;
			console.log(object1[optionarr[i]]);
		}
		
	};
	
	console.log(object1);
	var object2=new Object();
	var printarr=[]
	for (i in object1){
		object3 =new Object();
		object3.name=i;
		object3.data=object1[i];
		printarr.push(object3);
	}
	console.log(printarr);
	
	var test={"name":"abc","data":[1,2,3,4,5]};
	var test2={"name":"yuyu","data":[3,5,2,9,15]};
	var testarr=[test,test2];
	console.log(testarr);
	
    $('#fxxk').highcharts({
        chart: {
            type: 'area'
        },
        title: {
            text: '本次问卷的数字展示（面积图版）'
        },
        subtitle: {
            text: '数据来源: Wikipedia.org'
        },
        xAxis: {
            categories: num_list,
            tickmarkPlacement: 'on',
            title: {
                enabled: true
            }
        },
        yAxis: {
            title: {
                text: '百分比'
            }
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} 百万)<br/>',
            shared: true
        },
        plotOptions: {
            area: {
                stacking: 'percent',
                lineColor: '#ffffff',
                lineWidth: 1,
                marker: {
                    lineWidth: 1,
                    lineColor: '#ffffff'
                }
            }
        },
		/*
			这里填写的是，例如a在【第一、第二、第三。。。。第n题的人数】
		*/
        series: printarr
    });
});
</script>
</body>
</html>